<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Amazon Picks ‚Äì Trending Deals</title>

  <!-- ‚úÖ Replace with your own real AdSense publisher ID -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2472190760086309"
     crossorigin="anonymous"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Amazon Picks ‚Äì Trending deals curated with affiliate links.">
   <!--<link rel="icon" href="favicon.ico">-->

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <style>
    body {background:#f8fafc;}
    .hover-card {transition: transform .25s ease, box-shadow .25s ease;}
    .hover-card:hover {transform: translateY(-6px); box-shadow: 0 12px 26px rgba(0,0,0,.12);}
    .product-img {max-height:220px; object-fit:contain; transition: transform .25s ease;}
    .hover-card:hover .product-img {transform: scale(1.04);}
    .title-2lines {line-height:1.3rem; height:2.6rem; overflow:hidden;}
    .star {font-size:1.05rem; line-height:1;}
    .tab-pill .nav-link {border-radius:999px;}
     /* Back to Top Button */
    #backToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #0d6efd;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      font-size: 20px;
      cursor: pointer;
      display: none;
      box-shadow: 0px 4px 6px rgba(0,0,0,0.2);
    }
    #backToTop:hover {
      background: #0b5ed7;
    }
    .logo {
      font-size: 2rem;
      font-weight: bold;
      font-family: 'Poppins', sans-serif;
      color: #ff9900; /* Amazon orange */
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .logo i {
      color: #232f3e; /* Amazon dark navy */
    }
    .smile {
      font-size: 1rem;
      color: #ff9900;
      margin-left: -4px;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-white border-bottom"> 
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">üõçÔ∏è Deal Amazing</a>
      <span class="small text-muted">Amazon Associate Site</span>
    </div>
  </nav>

  <!-- ‚úÖ Single Main Section -->
  <main class="container py-4">
    <div class="row">
      
      <!-- Left Sidebar -->
      <div class="col-lg-3">
        <!-- Sidebar_Ad -->
     <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2472190760086309"
     data-ad-slot="3804394858"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
      </div>

      <!-- Main Content -->
      <div class="col-lg-9">
        
        <!-- Controls -->
        <div class="row align-items-center g-3 mb-4">
          <div class="col-lg-6">
            <ul class="nav nav-pills tab-pill" id="categoryTabs"></ul>
          </div>
          <div class="col-lg-6">
            <div class="d-flex gap-2 justify-content-lg-end">
              <input id="searchInput" class="form-control" placeholder="Search products‚Ä¶" />
              <select id="sortSelect" class="form-select" style="max-width:220px;">
                <option value="featured">Sort: Featured</option>
                <option value="priceAsc">Price: Low to High</option>
                <option value="priceDesc">Price: High to Low</option>
                <option value="ratingDesc">Rating: High to Low</option>
                <option value="reviewsDesc">Reviews: High to Low</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Tabs content -->
        <div class="tab-content" id="tabContent"></div>

        <!-- Disclaimer -->
        <div class="alert alert-info mt-5 text-center small">
          <strong>Disclaimer:</strong> As an Amazon Associate I earn from qualifying purchases.
          Prices, ratings, review counts and availability may change on Amazon.
        </div>
      </div>
    </div>
     <!-- Footer -->
  <footer class="bg-white border-top mt-5">
    <div class="container py-4 text-center small text-muted">
      <p class="mb-1">¬© 2025 Deal Amazing ‚Äì Amazon Affiliate Website</p>
      <p class="mb-1">
        As an Amazon Associate I earn from qualifying purchases.  
        Product prices and availability are subject to change.
      </p>
      <p>
        <a href="privacypolicy.html" class="text-decoration-none me-3">Privacy Policy</a> | 
        <a href="contact.html" class="text-decoration-none ms-3">Contact Us </a> | 
        <a href="aboutus.html" class="text-decoration-none ms-3">About Us </a>
      </p>
    </div>
  </footer>

  <!-- Back to Top Button -->
  <button id="backToTop" onclick="window.scrollTo({top:0, behavior:'smooth'});">‚Üë</button>
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Show button on scroll
    window.onscroll = function() {
      let btn = document.getElementById("backToTop");
      if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
        btn.style.display = "block";
      } else {
        btn.style.display = "none";
      }
    };
  </script>
  <script>
  // --------- Utilities ----------
  const money = s => {
    if (!s) return null;
    const n = parseFloat(s.replace(/[^\d.]/g,'').replace(/,/g,''));
    return isNaN(n) ? null : n;
  };

  const starHtml = n => {
    n = Math.max(0, Math.min(5, +n || 0));
    return Array.from({length: 5}, (_, i) =>
      i < n ? '<span class="text-warning star">‚òÖ</span>' : '<span class="text-secondary star">‚òÜ</span>'
    ).join('');
  };

  const nf = v => v || v===0 ? new Intl.NumberFormat().format(v) : '';

  // --------- Data + State ----------
  let PRODUCTS = [];
  let CATS = [];
  let ACTIVE = null;

  // --------- Init ----------
  (async function init(){
    try {
      const res = await fetch('product.json'); // ‚úÖ ensure this file exists
      PRODUCTS = await res.json();

      // ‚úÖ FIX: Add "All" and trim categories
      CATS = ['All', ...new Set(PRODUCTS.map(p => (p.Category || 'Others').trim()))];
      ACTIVE = 'All';

      renderTabs();
      renderPanes();
      bindEvents();
      apply();
    } catch(err) {
      console.error("Failed to load products:", err);
      document.getElementById('tabContent').innerHTML =
        `<div class="alert alert-danger">Error loading products.</div>`;
    }
  })();

  function bindEvents(){
    document.getElementById('searchInput').addEventListener('input', apply);
    document.getElementById('sortSelect').addEventListener('change', apply);
    document.getElementById('categoryTabs').addEventListener('shown.bs.tab', e=>{
    ACTIVE = e.target.textContent.trim();
      apply();
    });
  }

  function renderTabs(){
    const ul = document.getElementById('categoryTabs');
    ul.innerHTML = '';
    CATS.forEach((c,i)=>{
      const id = c.replace(/\s+/g,'');
      const li = document.createElement('li'); 
      li.className='nav-item';
      li.innerHTML = `<button class="nav-link ${i===0?'active':''}" data-bs-toggle="pill" data-bs-target="#tab-${id}" type="button">${c}</button>`;
      ul.appendChild(li);
    });
  }

  function renderPanes(){
    const content = document.getElementById('tabContent');
    content.innerHTML = '';
    CATS.forEach((c,i)=>{
      const id = c.replace(/\s+/g,'');
      const pane = document.createElement('div');
      pane.className = `tab-pane fade ${i===0?'show active':''}`;
      pane.id = `tab-${id}`;
      pane.innerHTML = `<div class="row g-4" data-cat="${c}"></div>`;
      content.appendChild(pane);
    });
  }

 function apply(){
  const q = document.getElementById('searchInput').value.toLowerCase().trim();
  const sort = document.getElementById('sortSelect').value;

  const filtered = PRODUCTS
    .filter(p => ACTIVE === 'All' || (p.Category || 'Others').trim().toLowerCase() === ACTIVE.toLowerCase())
   .filter(p => !q || (p.Title || '').toLowerCase().includes(q));

  const arr = [...filtered];
  switch(sort){
    case 'priceAsc': arr.sort((a, b) => (money(a.Price)||Infinity) - (money(b.Price)||Infinity)); break;
    case 'priceDesc': arr.sort((a, b) => (money(b.Price)||-Infinity) - (money(a.Price)||-Infinity)); break;
    case 'ratingDesc': arr.sort((a, b) => (b.StarRating||0) - (a.StarRating||0)); break;
    case 'reviewsDesc': arr.sort((a, b) => (b.ReviewCount||0) - (a.ReviewCount||0)); break;
    default: arr.sort((a,b)=>(b.IsFeatured?1:0)-(a.IsFeatured?1:0));
  }

  // ‚úÖ Find the correct tab-pane by ACTIVE category, not just "active tab"
  const id = ACTIVE.replace(/\s+/g,'');
  const row = document.querySelector(`#tab-${id} .row.g-4`);
  if(!row) return;
  row.innerHTML = '';
  renderGrid(arr, row);
}
function renderGrid(items, row){
  items.forEach(p=>{
    const badge = p.Badge ? `<span class="badge bg-danger position-absolute top-0 start-0 m-2">${p.Badge}</span>` :
                   p.DiscountPercent ? `<span class="badge bg-danger position-absolute top-0 start-0 m-2">-${p.DiscountPercent}% OFF</span>` : '';

    const col = document.createElement('div');
    col.className = 'col-lg-3 col-md-4 col-sm-6';
    col.innerHTML = `
      <div class="card h-100 border-0 rounded-4 shadow-sm position-relative overflow-hidden hover-card">
        ${badge}
        <div class="bg-white text-center">
          <img class="product-img p-3 w-100" src="${p.ImageUrl}" alt="${p.Title}">
        </div>

        <div class="card-body d-flex flex-column">
          <h6 class="title-2lines fw-semibold" title="${p.Title}">${p.Title}</h6>

          <div class="mb-1">
            ${starHtml(p.StarRating)}
            <small class="text-muted">(${nf(p.ReviewCount||0)} reviews)</small>
          </div>

          <p class="text-success fw-bold mb-0">${p.Price||''}</p>
          <p class="small text-muted fst-italic mb-2">üí° Amount may vary on Amazon</p>

          <a class="btn btn-warning text-dark fw-bold mt-auto"
             href="${p.AffiliateLink||'#'}"
             target="_blank"
             rel="nofollow noopener noreferrer">
            üõí Buy Now on Amazon
          </a>
        </div>
      </div>
    `;
    row.appendChild(col);
  });
}
</script>

</body>
</html>
